<div id="audiorecord-wrapper">
	<div class="header p" ng-class="{'bgc-amber-500': ($ctrl.state === 'unsupport')}">
		<h1>Audio Record</h1>
		<p ng-show="!$ctrl.unSupport">Realize grabaciones de audio desde su dispositivo de forma fac√≠l y sencillas.</p>
		<p ng-show="$ctrl.unSupport">Capacidad no soportada.</p>
	</div>
	<div class="main p" ng-class="{unsupport: ($ctrl.state === 'unsupport')}" flex-column>
		<div class="card p">
			<h4>Destino en Servidor</h4>
			<input type="text" name="path" ng-model="$ctrl.path">
		</div>
		<div class="card p">
			<div flex-container="row" flex-column="16">
				<div flex-item="14">
					<audio controls="true" id="audioOutput" autoplay="" ng-src="{{$ctrl.input}}"></audio>
				</div>
				<div flex-item="{{($ctrl.state === 'pause')? 1 : 2;}}" style="text-align: center;">
					<lx-button ng-show="$ctrl.state === 'stopped'"
						lx-type="fab" 
						lx-size="s" 
						lx-color="red"  
						lx-tooltip="Grabar" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.rec()"
						class="btn-control">
						<i class="mdi mdi-record"></i>
					</lx-button>
					<lx-button ng-show="$ctrl.state === 'recording'"
						lx-type="fab" 
						lx-size="s" 
						lx-color="blue" 
						lx-tooltip="Parar" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.pause()"
						class="btn-control">
						<i class="mdi mdi-pause"></i>
					</lx-button>
					<lx-button ng-show="$ctrl.state === 'pause'"
						lx-type="fab" 
						lx-size="s" 
						lx-color="blue" 
						lx-tooltip="Cancelar" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.cancel()"
						class="btn-control">
						<i class="mdi mdi-close"></i>
					</lx-button>
				</div>
				<div flex-item="1" ng-show="$ctrl.state === 'pause'" style="text-align: center;">
					<lx-button 
						lx-type="fab" 
						lx-size="s" 
						lx-color="green" 
						lx-tooltip="Guardar" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.save()"
						class="btn-control">
						<i class="mdi mdi-content-save"></i>
					</lx-button>
				</div>
			</div>
		</div>
		<div class="card" id="list-rec">
			<div class="card-header p">
				<h3>Grabaciones</h3>
				<p>Actualmente existen <span ng-bind="$ctrl.recs.length"></span> grabaciones.</p>
			</div>
			<div class="card-main">
				<div 
					class="card p" 
					ng-class="{unsupport:($ctrl.state !== 'stopped')}"
					flex-container="row" 
					flex-column="16" 
					ng-repeat="audio in $ctrl.recs">
					<div flex-item="12">
						<h4>Nombre: <span ng-bind="audio.name"></span></h4>
					</div>
					<div flex-item="4" class="center">
						<lx-button 
						lx-type="icon"
						lx-size="m"
						lx-color="red"
						lx-tooltip="Delete" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.delete($index)">
						<i class="mdi mdi-delete"></i>
						</lx-button>
						<lx-button 
						lx-type="icon"
						lx-size="m"
						lx-color="green"
						lx-tooltip="Play" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.play($index)">
						<i class="mdi mdi-play"></i>
						</lx-button>
						<lx-button 
						lx-type="icon"
						lx-size="m"
						lx-color="green"
						lx-tooltip="Send" 
						lx-tooltip-position="bottom"
						ng-click="$ctrl.send($index)">
						<i class="mdi mdi-send"></i>
						</lx-button>
						<lx-button 
						lx-type="icon"
						lx-size="m"
						lx-color="blue"
						lx-tooltip="Download" 
						lx-tooltip-position="bottom">
						<a class="mdi mdi-download" 
							ng-href="audio.datauri" 
							name="{{audio.name}}" 
							download="{{audio.name}}"></a>
						</lx-button>
					</div>
				</div>
			</div>
		</div>
	<div>
</div>